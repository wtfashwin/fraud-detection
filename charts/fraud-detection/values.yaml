api:
  name: fraud-api
  image:
    repository: fraud-api
    tag: latest
    pullPolicy: IfNotPresent
  replicaCount: 2
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  rollingUpdate:
    maxSurge: 1
    maxUnavailable: 0

worker:
  name: xai-worker
  image:
    repository: fraud-api  
    tag: latest
    pullPolicy: IfNotPresent
  maxReplicas: 10
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

redis:
  architecture: replication
  auth:
    enabled: false  # Disable auth for local development
  master:
    persistence:
      enabled: true
      size: 1Gi
  replica:
    persistence:
      enabled: true
      size: 1Gi
  sentinel:
    enabled: true
    masterSet: mymaster
    initialCheckTimeout: 5
    quorum: 2
    downAfterMilliseconds: 5000
    failoverTimeout: 10000
    parallelSyncs: 1

postgresql:
  auth:
    username: postgres
    password: postgres
    database: fraud
  primary:
    persistence:
      enabled: true
      size: 1Gi

mlflow:
  backendStore:
    databaseMigration: true
    databaseConnectionCheck: true
    postgres:
      enabled: true
      host: "fraud-detection-postgresql"
      port: 5432
      database: "mlflow"
      user: "postgres"
      password: "postgres"
      driver: "psycopg2"
  artifactRoot:
    proxiedArtifactStorage: false
    s3:
      enabled: false
    azureBlob:
      enabled: false
    gcs:
      enabled: false

monitoring:
  enabled: true
  prometheus:
    scrapeInterval: 15s
  grafana:
    enabled: true
    dashboardsEnabled: true

otel:
  enabled: true
  endpoint: "http://otel-collector:4318/v1/traces"